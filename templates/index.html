<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contagem Regressiva para o Sucesso</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #121212; color: #e0e0e0; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        h1 { color: #00ff88; text-transform: uppercase; letter-spacing: 2px; }
        #timer { font-size: 3rem; font-weight: bold; background: #1e1e1e; padding: 20px; border-radius: 10px; border: 2px solid #00ff88; box-shadow: 0 0 20px rgba(0, 255, 136, 0.2); margin-bottom: 20px; }
        .study-reminder { font-size: 1.2rem; color: #ffcc00; font-style: italic; }
        .footer { margin-top: 30px; font-size: 0.8rem; color: #666; }
    </style>
</head>
<body>

    <h1>Faltam para o Prazo Final:</h1>
    <div id="timer">Carregando...</div>
    <div class="study-reminder" id="reminder">Foco total! O pr칩ximo refor칞o de estudos est치 chegando.</div>

    <div class="footer">Meta: 28/01/2026 맙 08:00</div>

    <script>
        const targetDate = new Date("{{ target_date }}").getTime();

        const countdown = setInterval(function() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("timer").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

            // L칩gica de refor칞o a cada 2 horas (baseado na hora do dia)
            // Se a hora atual for par e o minuto for 0, emite um alerta visual
            const currentHour = new Date().getHours();
            if (currentHour % 2 === 0) {
                document.getElementById("reminder").innerHTML = "游뚿 HORA DO REFOR칂O! Revise seus estudos agora.";
                document.getElementById("reminder").style.color = "#ff4444";
            } else {
                document.getElementById("reminder").innerHTML = "Mantenha o ritmo. Pr칩ximo refor칞o em breve.";
                document.getElementById("reminder").style.color = "#ffcc00";
            }

            if (distance < 0) {
                clearInterval(countdown);
                document.getElementById("timer").innerHTML = "PRAZO ENCERRADO!";
            }
        }, 1000);
    </script>
</body>
</html>